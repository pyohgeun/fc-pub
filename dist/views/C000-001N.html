<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <title>핀큐브</title>
</head>
<body>
    <div class="home">
        <header class="header">
            <div class="prefix">
                <a href="javascript:void(0)">
                    <span class="icon-logo"></span>
                </a>
            </div>
            <div class="suffix">
                <button class="button button-free button-sm mr-10">이용안내</button>
                <button class="button button-primary button-sm">공인인증센터</button>
            </div>
        </header>

        <section class="section01">
            <div class="container pt-60 pb-80">
                <h2>가장 간편한<br>세금계산 관리, 핀큐브</h2>
                <p class="sub-text">번거로운 전자세금계산서와 현금영수증 발행.<br>핀큐브로 한번에 처리하세요.</p>
                <div class="img-wrap">
                    <img src="../image/img_sec01_01.png" class="obj-01" alt="핀큐브 메인화면 이미지 01">
                    <img src="../image/img_sec01_02.png" class="obj-02" alt="핀큐브 메인화면 이미지 02">
                </div>
                <button class="button button-primary button-round button-lg mt-40">무료로 시작하기</button>
            </div>
        </section>
        <section class="section02 bg-gray">
            <div class="container pt-60 pb-80">
                <h2>세금계산서, 현금영수증<br>쉽고 빠른 발행</h2>
                <p class="sub-text">언제 어디서나 이동중에도<br>손쉽게 발행 가능해요!</p>
                <div class="img-wrap mt-40">
                    <ul>
                        <li>
                            <img src="../image/img_sec02_01.png" class="obj-03" alt="핀큐브 세금계산서 발행 이미지 01">
                        </li>
                        <li>
                            <img src="../image/img_sec02_02.png" class="obj-04" alt="핀큐브 세금계산서 발행 이미지 02">
                        </li>
                    </ul>
                </div>
            </div>
        </section>
        <section class="section03 bg-gray">
            <div class="container pt-60">
                <h2>발행내역을 카톡으로<br>즉시 전송</h2>
                <p class="sub-text">고객으로부터의 수금이 더욱 쉬워집니다.</p>
                <div class="img-wrap">
                    <img src="../image/img_sec03_01.png" class="obj-05" alt="핀큐브 카톡 알림 이미지">
                </div>
            </div>
        </section>
        <section class="section04 bg-darkgray who-is-target">
            <div class="container pt-60 pb-80">
                <h2>핀큐브<br>누가 사용하면 좋나요?</h2>
                <div class="img-list pt-38">
                    <ul>
                        <li>
                            <div class="img-wrap">
                                <img src="../image/icon_target_01.png" alt="임대사업자 이미지">
                            </div>
                            <span class="target">임대사업자</span>
                        </li>
                        <li>
                            <div class="img-wrap">
                                <img src="../image/icon_target_02.png" alt="서비스업 이미지">
                            </div>
                            <span class="target">서비스업</span>
                        </li>
                        <li>
                            <div class="img-wrap">
                                <img src="../image/icon_target_03.png" alt="변호사,세무사 이미지">
                            </div>
                            <span class="target">변호사, 세무사</span>
                        </li>
                        <li>
                            <div class="img-wrap">
                                <img src="../image/icon_target_04.png" alt="화물운수업 이미지">
                            </div>
                            <span class="target">화물 운수업</span>
                        </li>
                    </ul>
                </div>
                <p class="etc-text mt-24">이외에 전자세금계산서, 현금영수증<br>발행이 필요한 개인사업자</p>
            </div>
        </section>
        <section class="section05 bg-blue download">
            <div class="container pt-50 pb-50">
                <h2>사장님들의 필수품!<br>핀큐브 어플 다운로드하기</h2>
                <ul class="download-links mt-30">
                    <li class="mr-16">
                        <a href="">
                            <img src="../image/icon_download_googleplay.png" alt="구글플레이 다운로드 이미지">
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <img src="../image/icon_download_appstore.png" alt="앱스토어 다운로드 이미지">
                        </a>
                    </li>
                </ul>
            </div>
        </section>
        <footer>
            <div class="container pt-30 pb-106">
                <header class="footer-header">
                    <ul>
                        <li><a href="">이용약관</a></li>
                        <li><a href="">개인정보 취급방침</a></li>
                        <li><a href="">공지사항</a></li>
                    </ul>
                </header>
                <div class="footer-body mt-40">
                    <div class="h3">
                        주식회사 세무통
                    </div>
                    <p class="corp-info">
                        대표이사 : 김인수 | 사업자 등록번호 : 818-86-00308 | 서울시 마포구 매봉산로 18 (상암동, 마포창업복지관) 502호 | 1566-6226 | tax@semutong.com | Kakao플러스 친구추가 @세무통
                    </p>
                    <div class="h3 mt-40">
                        고객센터
                    </div>
                    <p>
                        대표번호 1566-6226<br>
                        오전 9시 ~ 오후 6시 (공휴일 제외)<br>
                        이메일이나 카톡은 업무시간 외에도 가능합니다.
                    </p>
        
                    <p class="mt-30">&copy; 2022 semutong</p>
                </div>
            </div>
        </footer>
    </div>
</body>
<script>
    window.onload = function(){
        let posY = 0;
        let sections = [];
        let sectionHeights = [];
        let currentPos = 0;
        let lastPos = 0;
        let ticking = false;
        let adjust = 300;
        let move = 0;
        let direction = 1;
        let horizonPos = 0;
        let horizonMin = 0;
        let horizonMax = 35;

        

        
        sections = document.querySelectorAll('section');
        sections.forEach(section => sectionHeights.push(section.offsetTop));
        setTimeout(() => {
            sections[0].classList.add('active');
        }, 500);
        
        const targetActive = (pos) => {
            
            for(let i = 0; i < sections.length; i++){
                if ( pos + adjust < 0 || pos === 0 ){
                    sections[0].classList.add('active');
                } else if( pos + adjust < sectionHeights[i] ){
                    sections[i].classList.remove('active');
                    if( i == 1 ){
                        document.querySelector('.section02 .img-wrap ul').style.transform = "";
                    }
                } else if( pos + adjust > sectionHeights[i] ){
                    sections[i].classList.add('active');
                }
            }
        }
        const slide = (pos) => {
            document.querySelector('.section02 .img-wrap ul').style.transform = 'translate3d('+horizonPos*-2+'%, 0, 0)';
        }
        window.addEventListener('scroll', () => {
            currentPos = window.scrollY;
            if( lastPos - currentPos > 0){
                console.log('위로');
                //위로 스크롤
                if(currentPos + 10 > sectionHeights[1] && currentPos - 200 < sectionHeights[2]){
                    direction = 0;
                    if(horizonPos > horizonMin){
                        horizonPos--;
                    }
                }
            } else if ( lastPos - currentPos < 0 ){
                console.log('아래로');
                //아래로 스크롤
                if(currentPos + 10 > sectionHeights[1] && currentPos - 200 < sectionHeights[2]){
                    direction = 1;
                    if(horizonPos < horizonMax){
                        horizonPos++;
                    }
                }
            }
            if( !ticking ){
                window.requestAnimationFrame(()=>{
                    setTimeout(() => {
                        targetActive(currentPos);
                        ticking = false;
                        if( currentPos + 10 > sectionHeights[1] && currentPos - 200 < sectionHeights[2]){
                            slide(currentPos);
                        }
                        lastPos = currentPos;
                    }, 50);
                })
                ticking = true;
            }
            lastPos = currentPos;
        });
    }

</script>
</html>